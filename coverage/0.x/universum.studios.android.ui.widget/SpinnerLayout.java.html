<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>SpinnerLayout.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=0;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">debugAndroidTest</a> &gt; <a href="index.source.html" class="el_package">universum.studios.android.ui.widget</a> &gt; <span class="el_source">SpinnerLayout.java</span></div><h1>SpinnerLayout.java</h1><pre class="source lang-java linenums">/*
 * =================================================================================================
 *                             Copyright (C) 2017 Universum Studios
 * =================================================================================================
 *         Licensed under the Apache License, Version 2.0 or later (further &quot;License&quot; only).
 * -------------------------------------------------------------------------------------------------
 * You may use this file only in compliance with the License. More details and copy of this License 
 * you may obtain at
 * 
 * 		http://www.apache.org/licenses/LICENSE-2.0
 * 
 * You can redistribute, modify or publish any part of the code written within this file but as it 
 * is described in the License, the software distributed under the License is distributed on an 
 * &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES or CONDITIONS OF ANY KIND.
 * 
 * See the License for the specific language governing permissions and limitations under the License.
 * =================================================================================================
 */
package universum.studios.android.ui.widget;

import android.annotation.TargetApi;
import android.content.Context;
import android.content.res.TypedArray;
import android.os.Build;
import android.os.Parcel;
import android.os.Parcelable;
import android.support.annotation.AttrRes;
import android.support.annotation.NonNull;
import android.support.annotation.Nullable;
import android.support.annotation.StyleRes;
import android.text.TextUtils;
import android.util.AttributeSet;
import android.view.View;
import android.widget.AdapterView;
import android.widget.Spinner;
import android.widget.SpinnerAdapter;

import universum.studios.android.ui.R;

/**
 * Implementation of {@link InputLayout} to provide input container for {@link Spinner} component.
 * All features supported by {@link InputLayout} are also supported by this layout. By default,
 * SpinnerLayout creates full view hierarchy on its initialization with &lt;b&gt;label&lt;/b&gt;, &lt;b&gt;note&lt;/b&gt;,
 * &lt;b&gt;spinner&lt;/b&gt; and &lt;b&gt;constraint&lt;/b&gt; views that will be laid out as described in {@link InputLayout}
 * class overview. Whether to show or hide some of these views can be requested by specifying desired
 * input features via {@link #requestInputFeatures(int)}.
 *
 * &lt;h3&gt;Spinner set up&lt;/h3&gt;
 * Spinner of SpinnerLayout can be accessed via {@link #getInputView()} method. SpinnerLayout implements
 * only necessary delegate methods to perform base set up of its input view like setting its adapter
 * via {@link #setAdapter(android.widget.SpinnerAdapter)} or obtaining its current selected position
 * via {@link #getSelection()}.
 *
 * &lt;h3&gt;Xml layout&lt;/h3&gt;
 * As described in {@link InputLayout} class overview in the same section, also EditLayout can be
 * used within an Xml layout. The following sample shows Xml layout structure with different usages:
 * &lt;pre&gt;
 * &amp;lt;LinearLayout
 *      xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;
 *      xmlns:ui=&quot;http://schemas.android.com/apk/res-auto&quot;
 *      android:layout_width=&quot;match_parent&quot;
 *      android:layout_height=&quot;match_parent&quot;&amp;gt;
 *
 *      &amp;lt;!-- Default usage. --&amp;gt;
 *      &amp;lt;universum.studios.android.ui.widget.SpinnerLayout
 *              android:layout_width=&quot;match_parent&quot;
 *              android:layout_height=&quot;wrap_content&quot;/&amp;gt;
 *
 *      --------------------------------------------------------------------------------------------
 *
 *      &amp;lt;!-- Layout with custom Spinner. --&amp;gt;
 *      &amp;lt;universum.studios.android.ui.widget.SpinnerLayout
 *              android:layout_width=&quot;match_parent&quot;
 *              android:layout_height=&quot;wrap_content&quot;&amp;gt;
 *
 *              &amp;lt;Spinner
 *                      android:layout_width=&quot;match_parent&quot;
 *                      android:layout_height=&quot;wrap_content&quot;
 *                      ui:uiInputChildType=&quot;input&quot;/&amp;gt;
 *
 *      &amp;lt;universum.studios.android.ui.widget.SpinnerLayout&amp;gt;
 *
 *      --------------------------------------------------------------------------------------------
 *
 *      &amp;lt;!-- Layout with all custom views. --&amp;gt;
 *      &amp;lt;universum.studios.android.ui.widget.SpinnerLayout
 *              android:layout_width=&quot;match_parent&quot;
 *              android:layout_height=&quot;wrap_content&quot;
 *              ui:uiWithEmptyViewHierarchy=&quot;true&quot;&amp;gt;
 *              &amp;lt;!--
 *                  uiWithEmptyViewHierarchy=&quot;true&quot;
 *                  This flag ensures that the SpinnerLayout will be initialized with the empty view
 *                  hierarchy so we can supply the custom one.
 *              --&amp;gt;
 *
 *              &amp;lt;!-- Label view. --&amp;gt;
 *              &amp;lt;TextView
 *                      android:layout_width=&quot;wrap_content&quot;
 *                      android:layout_height=&quot;wrap_content&quot;
 *                      ui:uiInputChildType=&quot;label&quot;/&amp;gt;
 *
 *              &amp;lt;!-- Input view. --&amp;gt;
 *              &amp;lt;Spinner
 *                      android:layout_width=&quot;match_parent&quot;
 *                      android:layout_height=&quot;wrap_content&quot;
 *                      ui:uiInputChildType=&quot;input&quot;/&amp;gt;
 *
 *              &amp;lt;!-- Below views are optional. =========================================== --&amp;gt;
 *
 *              &amp;lt;!-- Note view. --&amp;gt;
 *              &amp;lt;TextView
 *                      android:layout_width=&quot;wrap_content&quot;
 *                      android:layout_height=&quot;wrap_content&quot;
 *                      ui:uiInputChildType=&quot;note&quot;/&amp;gt;
 *
 *              &amp;lt;!-- Constraint view. --&amp;gt;
 *              &amp;lt;TextView
 *                      android:layout_width=&quot;wrap_content&quot;
 *                      android:layout_height=&quot;wrap_content&quot;
 *                      ui:uiInputChildType=&quot;constraint&quot;/&amp;gt;
 *
 *      &amp;lt;universum.studios.android.ui.widget.SpinnerLayout&amp;gt;
 * &amp;lt;LinearLayout&amp;gt;
 * &lt;/pre&gt;
 *
 * &lt;h3&gt;XML attributes&lt;/h3&gt;
 * See {@link InputLayout},
 * {@link R.styleable#Ui_SpinnerLayout SpinnerLayout Attributes}
 *
 * &lt;h3&gt;Default style attribute&lt;/h3&gt;
 * {@link R.attr#uiSpinnerLayoutStyle uiSpinnerLayoutStyle}
 *
 * @author Martin Albedinsky
 * @see EditLayout
 */
public class SpinnerLayout extends InputLayout {

	/**
	 * Interface ===================================================================================
	 */

	/**
	 * Listener used to delegate callbacks from {@link android.widget.AdapterView.OnItemSelectedListener} attached
	 * to a spinner of SpinnerLayout.
	 *
	 * @author Martin Albedinsky
	 */
	public interface OnItemSelectedListener {

		/**
		 * Invoked whenever an item at the specified &lt;var&gt;position&lt;/var&gt; is selected within a spinner
		 * of the specified &lt;var&gt;spinnerLayout&lt;/var&gt;.
		 * &lt;p&gt;
		 * See {@link android.widget.AdapterView.OnItemSelectedListener#onItemSelected(android.widget.AdapterView, android.view.View, int, long)}
		 * for additional info.
		 *
		 * @param spinnerLayout The spinner layout within which spinner has been item selected.
		 */
		void onItemSelected(@NonNull SpinnerLayout spinnerLayout, AdapterView&lt;?&gt; parent, View view, int position, long id);

		/**
		 * Invoked whenever nothing is selected within a spinner of the specified &lt;var&gt;spinnerLayout&lt;/var&gt;.
		 * &lt;p&gt;
		 * See {@link android.widget.AdapterView.OnItemSelectedListener#onItemSelected(android.widget.AdapterView, android.view.View, int, long)}
		 * for additional info.
		 *
		 * @param spinnerLayout The spinner layout within which spinner has been nothing selected.
		 */
		void onNothingSelected(@NonNull SpinnerLayout spinnerLayout, AdapterView&lt;?&gt; parent);
	}

	/**
	 * Constants ===================================================================================
	 */

	/**
	 * Log TAG.
	 */
	// private static final String TAG = &quot;SpinnerLayout&quot;;

	/**
	 * Flag indicating whether the OnItemSelectedListener has been already attached to the current
	 * Spinner or not.
	 */
	private static final int PFLAG_ITEM_SELECTED_LISTENER_ATTACHED = 0x00000001;

	/**
	 * Static members ==============================================================================
	 */

	/**
	 * Members =====================================================================================
	 */

	/**
	 * An {@link android.widget.AdapterView.OnItemSelectedListener} implementation to delegate selection callbacks
	 * to the current {@link #mItemSelectedListener} if any.
	 */
<span class="nc" id="L199">	private final AdapterView.OnItemSelectedListener ITEM_SELECTED_LISTENER = new AdapterView.OnItemSelectedListener() {</span>

		/**
		 */
		@Override
		public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {
<span class="nc bnc" id="L205" title="All 2 branches missed.">			if (mItemSelectedListener != null) {</span>
<span class="nc" id="L206">				mItemSelectedListener.onItemSelected(SpinnerLayout.this, parent, view, position, id);</span>
			}
<span class="nc" id="L208">		}</span>

		/**
		 */
		@Override
		public void onNothingSelected(AdapterView&lt;?&gt; parent) {
<span class="nc bnc" id="L214" title="All 2 branches missed.">			if (mItemSelectedListener != null) {</span>
<span class="nc" id="L215">				mItemSelectedListener.onNothingSelected(SpinnerLayout.this, parent);</span>
			}
<span class="nc" id="L217">		}</span>
	};

	/**
	 * Spinner for user input.
	 */
	private Spinner mSpinner;

	/**
	 * Adapter with data set for the spinner.
	 */
	private SpinnerAdapter mAdapter;

	/**
	 * Selection for the spinner.
	 */
	private int mSelection;

	/**
	 * Prompt text for the spinner's dialog.
	 */
	private CharSequence mPrompt;

	/**
	 * Set of private flags of this dialog view.
	 */
	private int mPrivateFlags;

	/**
	 * Callback to be invoked whenever an item within the current spinner is selected.
	 */
	OnItemSelectedListener mItemSelectedListener;

	/**
	 * Constructors ================================================================================
	 */

	/**
	 * Same as {@link #SpinnerLayout(android.content.Context, android.util.AttributeSet)} without
	 * attributes.
	 */
	public SpinnerLayout(@NonNull Context context) {
<span class="nc" id="L259">		this(context, null);</span>
<span class="nc" id="L260">	}</span>

	/**
	 * Same as {@link #SpinnerLayout(android.content.Context, android.util.AttributeSet, int)} with
	 * {@link R.attr#uiSpinnerLayoutStyle} as attribute for default style.
	 */
	public SpinnerLayout(@NonNull Context context, @Nullable AttributeSet attrs) {
<span class="nc" id="L267">		this(context, attrs, R.attr.uiSpinnerLayoutStyle);</span>
<span class="nc" id="L268">	}</span>

	/**
	 * Same as {@link #SpinnerLayout(android.content.Context, android.util.AttributeSet, int, int)}
	 * with {@code 0} as default style.
	 */
	public SpinnerLayout(@NonNull Context context, @Nullable AttributeSet attrs, @AttrRes int defStyleAttr) {
<span class="nc" id="L275">		super(context, attrs, defStyleAttr);</span>
<span class="nc" id="L276">		this.init(context, attrs, defStyleAttr, 0);</span>
<span class="nc" id="L277">	}</span>

	/**
	 * Creates a new instance of SpinnerLayout for the given &lt;var&gt;context&lt;/var&gt;.
	 *
	 * @param context      Context in which will be the new view presented.
	 * @param attrs        Set of Xml attributes used to configure the new instance of this view.
	 * @param defStyleAttr An attribute which contains a reference to a default style resource for
	 *                     this view within a theme of the given context.
	 * @param defStyleRes  Resource id of the default style for the new view.
	 */
	@TargetApi(Build.VERSION_CODES.LOLLIPOP)
	public SpinnerLayout(@NonNull Context context, @Nullable AttributeSet attrs, @AttrRes int defStyleAttr, @StyleRes int defStyleRes) {
<span class="nc" id="L290">		super(context, attrs, defStyleAttr, defStyleRes);</span>
<span class="nc" id="L291">		this.init(context, attrs, defStyleAttr, defStyleRes);</span>
<span class="nc" id="L292">	}</span>

	/**
	 * Methods =====================================================================================
	 */

	/**
	 * Called from one of constructors of this view to perform its initialization.
	 * &lt;p&gt;
	 * Initialization is done via parsing of the specified &lt;var&gt;attrs&lt;/var&gt; set and obtaining for
	 * this view specific data from it that can be used to configure this new view instance. The
	 * specified &lt;var&gt;defStyleAttr&lt;/var&gt; and &lt;var&gt;defStyleRes&lt;/var&gt; are used to obtain default data
	 * from the current theme provided by the specified &lt;var&gt;context&lt;/var&gt;.
	 */
	private void init(Context context, AttributeSet attrs, int defStyleAttr, int defStyleRes) {
		/**
		 * Process attributes.
		 */
<span class="nc" id="L310">		boolean createViewHierarchy = true;</span>
<span class="nc" id="L311">		final TypedArray attributes = mContext.obtainStyledAttributes(attrs, R.styleable.Ui_SpinnerLayout, defStyleAttr, defStyleRes);</span>
<span class="nc bnc" id="L312" title="All 2 branches missed.">		for (int i = 0; i &lt; attributes.getIndexCount(); i++) {</span>
<span class="nc" id="L313">			final int index = attributes.getIndex(i);</span>
<span class="nc bnc" id="L314" title="All 2 branches missed.">			if (index == R.styleable.Ui_SpinnerLayout_uiWithEmptyViewHierarchy) {</span>
<span class="nc bnc" id="L315" title="All 2 branches missed.">				createViewHierarchy = !attributes.getBoolean(index, false);</span>
			}
		}
<span class="nc" id="L318">		attributes.recycle();</span>

<span class="nc bnc" id="L320" title="All 2 branches missed.">		if (createViewHierarchy) {</span>
<span class="nc" id="L321">			addLabelView(new TextViewWidget(context, null, R.attr.uiInputLabelStyle));</span>
<span class="nc" id="L322">			addInputView(new SpinnerWidget(context, null, R.attr.uiSpinnerInputStyle));</span>
<span class="nc" id="L323">			addNoteView(new TextViewWidget(context, null, R.attr.uiInputNoteStyle));</span>
<span class="nc" id="L324">			addConstraintView(new TextViewWidget(context, null, R.attr.uiInputConstraintStyle));</span>
		}
<span class="nc" id="L326">	}</span>

	/**
	 * Delegate method for {@link android.widget.Spinner#setAdapter(android.widget.SpinnerAdapter)}.
	 */
	public void setAdapter(@Nullable SpinnerAdapter adapter) {
<span class="nc" id="L332">		this.mAdapter = adapter;</span>
<span class="nc bnc" id="L333" title="All 2 branches missed.">		if (mSpinner != null) {</span>
<span class="nc" id="L334">			mSpinner.setAdapter(mAdapter);</span>
<span class="nc bnc" id="L335" title="All 2 branches missed.">			if ((mPrivateFlags &amp; PFLAG_ITEM_SELECTED_LISTENER_ATTACHED) == 0) {</span>
<span class="nc" id="L336">				mSpinner.setSelection(mSelection, false);</span>
<span class="nc" id="L337">				mSpinner.setOnItemSelectedListener(ITEM_SELECTED_LISTENER);</span>
<span class="nc" id="L338">				this.updatePrivateFlags(PFLAG_ITEM_SELECTED_LISTENER_ATTACHED, true);</span>
			}
		}
<span class="nc" id="L341">	}</span>

	/**
	 * Delegate method for {@link android.widget.Spinner#getAdapter()}.
	 */
	@Nullable
	public SpinnerAdapter getAdapter() {
<span class="nc bnc" id="L348" title="All 2 branches missed.">		return mSpinner != null ? mAdapter = mSpinner.getAdapter() : mAdapter;</span>
	}

	/**
	 * Delegate method for {@link android.widget.Spinner#setSelection(int)}.
	 */
	public void setSelection(int selection) {
<span class="nc bnc" id="L355" title="All 2 branches missed.">		if (mSelection != selection) {</span>
<span class="nc" id="L356">			this.mSelection = selection;</span>
<span class="nc bnc" id="L357" title="All 2 branches missed.">			if (mSpinner != null) mSpinner.setSelection(mSelection);</span>
		}
<span class="nc" id="L359">	}</span>

	/**
	 * Delegate method for {@link android.widget.Spinner#setSelection(int, boolean)}.
	 */
	public void setSelection(int selection, boolean animate) {
<span class="nc bnc" id="L365" title="All 2 branches missed.">		if (mSelection != selection) {</span>
<span class="nc" id="L366">			this.mSelection = selection;</span>
<span class="nc bnc" id="L367" title="All 2 branches missed.">			if (mSpinner != null) mSpinner.setSelection(mSelection, animate);</span>
		}
<span class="nc" id="L369">	}</span>

	/**
	 * Delegate method for {@link android.widget.Spinner#getSelectedItemPosition}.
	 */
	public int getSelection() {
<span class="nc bnc" id="L375" title="All 2 branches missed.">		return mSpinner != null ? mSelection = mSpinner.getSelectedItemPosition() : mSelection;</span>
	}

	/**
	 * Delegate method for {@link android.widget.Spinner#getItemAtPosition(int)}.
	 */
	@Nullable
	public Object getItemAtPosition(int position) {
<span class="nc bnc" id="L383" title="All 2 branches missed.">		return mSpinner != null ? mSpinner.getItemAtPosition(position) : null;</span>
	}

	/**
	 * Delegate method for {@link android.widget.Spinner#getItemIdAtPosition(int)}.
	 */
	public long getItemIdAtPosition(int position) {
<span class="nc bnc" id="L390" title="All 2 branches missed.">		return mSpinner != null ? mSpinner.getItemIdAtPosition(position) : -1;</span>
	}

	/**
	 * Delegate method for {@link android.widget.Spinner#setPrompt(CharSequence)}.
	 */
	public void setPrompt(@Nullable CharSequence prompt) {
<span class="nc" id="L397">		this.mPrompt = prompt;</span>
<span class="nc bnc" id="L398" title="All 2 branches missed.">		if (mSpinner != null) mSpinner.setPrompt(mPrompt);</span>
<span class="nc" id="L399">	}</span>

	/**
	 * Delegate method for {@link android.widget.Spinner#getPrompt()}.
	 */
	@Nullable
	public CharSequence getPrompt() {
<span class="nc bnc" id="L406" title="All 2 branches missed.">		return mSpinner != null ? mPrompt = mSpinner.getPrompt() : mPrompt;</span>
	}

	/**
	 * Registers a callback to be invoked whenever an item within the current spinner is selected.
	 *
	 * @param listener Listener callback.
	 */
	public void setOnItemSelectedListener(@NonNull OnItemSelectedListener listener) {
<span class="nc" id="L415">		this.mItemSelectedListener = listener;</span>
<span class="nc" id="L416">	}</span>

	/**
	 * Removes the current OnItemSelectedListener callback if any.
	 */
	public void removeOnItemSelectedListener() {
<span class="nc" id="L422">		this.mItemSelectedListener = null;</span>
<span class="nc" id="L423">	}</span>

	/**
	 */
	@NonNull
	@Override
	public Spinner getInputView() {
<span class="nc" id="L430">		return mSpinner;</span>
	}

	/**
	 */
	@Override
	protected boolean validateInputView(@NonNull View view) {
<span class="nc" id="L437">		return view instanceof Spinner;</span>
	}

	/**
	 */
	@Override
	protected void onInputViewChanged(@NonNull View inputView) {
<span class="nc" id="L444">		super.onInputViewChanged(inputView);</span>
<span class="nc bnc" id="L445" title="All 2 branches missed.">		if (!(inputView instanceof Spinner)) {</span>
<span class="nc" id="L446">			throw new IllegalArgumentException(&quot;Only Spinner is allowed as input view for SpinnerLayout. Found(&quot; + inputView + &quot;) instead.&quot;);</span>
		}
<span class="nc" id="L448">		this.mSpinner = (Spinner) inputView;</span>
<span class="nc bnc" id="L449" title="All 2 branches missed.">		if (mPrompt != null) {</span>
<span class="nc" id="L450">			mSpinner.setPrompt(mPrompt);</span>
		}
<span class="nc bnc" id="L452" title="All 2 branches missed.">		if (mAdapter != null) {</span>
<span class="nc" id="L453">			mSpinner.setAdapter(mAdapter);</span>
<span class="nc" id="L454">			mSpinner.setSelection(mSelection, false);</span>
<span class="nc" id="L455">			mSpinner.setOnItemSelectedListener(ITEM_SELECTED_LISTENER);</span>
<span class="nc" id="L456">			this.updatePrivateFlags(PFLAG_ITEM_SELECTED_LISTENER_ATTACHED, true);</span>
		}
<span class="nc" id="L458">	}</span>

	/**
	 */
	@Override
	protected void onFinishInflate() {
<span class="nc" id="L464">		super.onFinishInflate();</span>
<span class="nc" id="L465">		final View inputView = super.getInputView();</span>
<span class="nc bnc" id="L466" title="All 2 branches missed.">		if (inputView != mSpinner) {</span>
<span class="nc" id="L467">			onInputViewChanged(inputView);</span>
		}
<span class="nc" id="L469">	}</span>

	/**
	 */
	@Override
	protected Parcelable onSaveInstanceState() {
<span class="nc" id="L475">		final SavedState savedState = new SavedState(super.onSaveInstanceState());</span>
<span class="nc" id="L476">		savedState.selection = mSpinner.getSelectedItemPosition();</span>
<span class="nc" id="L477">		savedState.prompt = mPrompt;</span>
<span class="nc" id="L478">		return savedState;</span>
	}

	/**
	 */
	@Override
	protected void onRestoreInstanceState(Parcelable state) {
<span class="nc bnc" id="L485" title="All 2 branches missed.">		if (!(state instanceof SavedState)) {</span>
<span class="nc" id="L486">			super.onRestoreInstanceState(state);</span>
<span class="nc" id="L487">			return;</span>
		}

<span class="nc" id="L490">		final SavedState savedState = (SavedState) state;</span>
<span class="nc" id="L491">		super.onRestoreInstanceState(savedState.getSuperState());</span>
<span class="nc" id="L492">		setPrompt(savedState.prompt);</span>
<span class="nc" id="L493">		setSelection(savedState.selection, false);</span>
<span class="nc" id="L494">	}</span>

	/**
	 * Updates the current private flags.
	 *
	 * @param flag Value of the desired flag to add/remove to/from the current private flags.
	 * @param add  Boolean flag indicating whether to add or remove the specified &lt;var&gt;flag&lt;/var&gt;.
	 */
	@SuppressWarnings(&quot;unused&quot;)
	private void updatePrivateFlags(int flag, boolean add) {
<span class="nc bnc" id="L504" title="All 2 branches missed.">		if (add) this.mPrivateFlags |= flag;</span>
<span class="nc" id="L505">		else this.mPrivateFlags &amp;= ~flag;</span>
<span class="nc" id="L506">	}</span>

	/**
	 * Returns a boolean flag indicating whether the specified &lt;var&gt;flag&lt;/var&gt; is contained within
	 * the current private flags or not.
	 *
	 * @param flag Value of the flag to check.
	 * @return {@code True} if the requested flag is contained, {@code false} otherwise.
	 */
	@SuppressWarnings(&quot;unused&quot;)
	private boolean hasPrivateFlag(int flag) {
<span class="nc bnc" id="L517" title="All 2 branches missed.">		return (mPrivateFlags &amp; flag) != 0;</span>
	}

	/**
	 * Inner classes ===============================================================================
	 */

	/**
	 * A {@link WidgetSavedState} implementation used to ensure that the state of {@link SpinnerLayout}
	 * is properly saved.
	 *
	 * @author Martin Albedinsky
	 */
	public static class SavedState extends WidgetSavedState {

		/**
		 * Creator used to create an instance or array of instances of SavedState from {@link android.os.Parcel}.
		 */
<span class="nc" id="L535">		public static final Creator&lt;SavedState&gt; CREATOR = new Creator&lt;SavedState&gt;() {</span>
			/**
			 */
			@Override
			public SavedState createFromParcel(@NonNull Parcel source) {
<span class="nc" id="L540">				return new SavedState(source);</span>
			}

			/**
			 */
			@Override
			public SavedState[] newArray(int size) {
<span class="nc" id="L547">				return new SavedState[size];</span>
			}
		};

		/**
		 */
		int selection;

		/**
		 */
		CharSequence prompt;

		/**
		 * Creates a new instance of SavedState with the given &lt;var&gt;superState&lt;/var&gt; to allow chaining
		 * of saved states in {@link #onSaveInstanceState()} and also in {@link #onRestoreInstanceState(android.os.Parcelable)}.
		 *
		 * @param superState The super state obtained from {@code super.onSaveInstanceState()} within
		 *                   {@code onSaveInstanceState()}.
		 */
		protected SavedState(@NonNull Parcelable superState) {
<span class="nc" id="L567">			super(superState);</span>
<span class="nc" id="L568">		}</span>

		/**
		 * Called from {@link #CREATOR} to create an instance of SavedState form the given parcel
		 * &lt;var&gt;source&lt;/var&gt;.
		 *
		 * @param source Parcel with data for the new instance.
		 */
		protected SavedState(@NonNull Parcel source) {
<span class="nc" id="L577">			super(source);</span>
<span class="nc" id="L578">			this.selection = source.readInt();</span>
<span class="nc" id="L579">			this.prompt = TextUtils.CHAR_SEQUENCE_CREATOR.createFromParcel(source);</span>
<span class="nc" id="L580">		}</span>

		/**
		 */
		@Override
		public void writeToParcel(@NonNull Parcel dest, int flags) {
<span class="nc" id="L586">			super.writeToParcel(dest, flags);</span>
<span class="nc" id="L587">			dest.writeInt(selection);</span>
<span class="nc" id="L588">			TextUtils.writeToParcel(prompt, dest, flags);</span>
<span class="nc" id="L589">		}</span>
	}
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.5.201505241946</span>Generated by the Android Gradle plugin 2.3.0</div></body></html>